<p id="notice"><%= notice %></p>

<%= link_to 'Schools', schools_path %>

<form>
  <input name="query" id="q" <%= @q %> >
  <button type="submit" placeholder="Search here your course"> Search </button>
</form>

<h1>Listing Courses</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Category</th>
      <th>Price</th>
      <th>Photo</th>
      <th>Commission</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody id='courses'>
  
    <%= render partial: "courses/courses", collection: @courses %>
      
  </tbody>

</table>

<br>

<%= link_to 'New Course', new_course_path %>

<%= paginate @courses %>

<script> 

$(q).on('keyup', function(event) {
  var query = this.value;
  console.log("Jquery");
  $.ajax({
    url: '<%= courses_path %>',
    type: 'GET',
    dataType: 'script',
    data: {q: query }
  })
  .done(function() {
    console.log("success");
  })
  .fail(function() {
    console.log("error");
  })
  .always(function() {
    console.log("complete");
  });
});
 

</script>

